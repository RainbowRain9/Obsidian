---
created time: 2024-06-24 21:02:33
updated time: 2024-06-24 21:06:15
dtype: æ¦‚å¿µ
subject: C++
tags:
  - review
dg-publish: true
banner: https://source.unsplash.com/900x1600/?tree
banner_icon: ğŸ§ 
---

# C++ ä¸­çš„ `getline` å‡½æ•°

## æ¦‚å¿µ
`getline` æ˜¯ C++ ä¸­ç”¨äºä»è¾“å…¥æµä¸­è¯»å–ä¸€è¡Œæ–‡æœ¬çš„å‡½æ•°ã€‚å®ƒè¯»å–å­—ç¬¦ç›´åˆ°é‡åˆ°æ¢è¡Œç¬¦ `\n` æˆ–è€…è¾¾åˆ°æµçš„æœ«å°¾ã€‚æ¢è¡Œç¬¦é»˜è®¤ä¼šè¢«ä¸¢å¼ƒï¼Œä¸ä¼šå­˜å‚¨åœ¨ç›®æ ‡å­—ç¬¦ä¸²ä¸­ã€‚

## æ¨¡æ¿
ä»¥ä¸‹æ˜¯ `getline` å‡½æ•°çš„åŸºæœ¬ä½¿ç”¨æ¨¡æ¿ï¼š

```C++
#include <iostream>
#include <string>

int main() {
    string line;
    // ä»æ ‡å‡†è¾“å…¥è¯»å–ä¸€è¡Œ
    getline(cin, line);
    // æ‰“å°è¯»å–çš„è¡Œ
    cout << line << endl;
    return 0;
}
```

## é‡ç‚¹
- **è¯»å–ä¸€è¡Œ**ï¼š`getline` è¯»å–è¾“å…¥æµç›´åˆ°æ¢è¡Œç¬¦ã€‚
- **é»˜è®¤åˆ†éš”ç¬¦**ï¼šé»˜è®¤æƒ…å†µä¸‹ï¼Œåˆ†éš”ç¬¦æ˜¯æ¢è¡Œç¬¦ `\n`ã€‚
- **å­˜å‚¨ç»“æœ**ï¼šè¯»å–çš„æ–‡æœ¬å­˜å‚¨åœ¨æä¾›çš„ `string` å¯¹è±¡ä¸­ã€‚

## é«˜çº§ç”¨æ³•
`getline` è¿˜å¯ä»¥æ¥å—ä¸€ä¸ªå¯é€‰çš„åˆ†éš”ç¬¦ä½œä¸ºç¬¬ä¸‰ä¸ªå‚æ•°ï¼Œå…è®¸ä½ æŒ‡å®šä¸åŒçš„ç»ˆæ­¢å­—ç¬¦ã€‚

```C++
string line;
// ä»æ ‡å‡†è¾“å…¥è¯»å–ï¼Œç›´åˆ°é‡åˆ° '#' æˆ–æ¢è¡Œç¬¦
getline(cin, line, '#');
```

## ä¾‹é¢˜

### ä¾‹é¢˜ 1ï¼šè¯»å–å¹¶æ‰“å°ç”¨æˆ·è¾“å…¥çš„è¡Œ

```C++
int main() {
    string input;
    cout << "Please enter a line of text: ";
    // è¯»å–ç”¨æˆ·è¾“å…¥çš„ä¸€è¡Œ
    getline(cin, input);
    cout << "You entered: " << input << endl;
    return 0;
}
```

### ä¾‹é¢˜ 2ï¼šè¯»å–æ–‡ä»¶ä¸­çš„æ¯ä¸€è¡Œ

```C++
int main() {
    ifstream file("example.txt");
    if (!file) {
        cerr << "Unable to open file!" << endl;
        return 1;
    }

    string line;
    while (getline(file, line)) {
        cout << line << endl;
    }
    file.close();
    return 0;
}
```

## æ³¨æ„äº‹é¡¹

- **æ•ˆç‡**ï¼š`getline` æ¯”é€å­—ç¬¦è¯»å–æ›´é«˜æ•ˆï¼Œå› ä¸ºå®ƒæ˜¯ä¸€æ¬¡æ€§æ“ä½œã€‚
- **é”™è¯¯å¤„ç†**ï¼šå¦‚æœè¯»å–è¿‡ç¨‹ä¸­å‘ç”Ÿé”™è¯¯æˆ–åˆ°è¾¾æ–‡ä»¶æœ«å°¾ï¼Œè¾“å…¥æµä¼šè¢«æ ‡è®°ä¸ºé”™è¯¯çŠ¶æ€ã€‚
- **æ¢è¡Œç¬¦**ï¼šè¯»å–ç»“æŸåï¼Œæ¢è¡Œç¬¦ä¸ä¼šè¢«å­˜å‚¨åœ¨å­—ç¬¦ä¸²ä¸­ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡æ£€æŸ¥è¾“å…¥æµçš„çŠ¶æ€æ¥ç¡®å®šæ˜¯å¦é‡åˆ°äº†æ¢è¡Œç¬¦ã€‚

## æ€»ç»“

`getline` æ˜¯å¤„ç†æ–‡æœ¬è¡Œè¯»å–çš„å¼ºå¤§å·¥å…·ï¼Œå®ƒæä¾›äº†ä¸€ç§ç®€å•æœ‰æ•ˆçš„æ–¹å¼æ¥è¯»å–ç”¨æˆ·è¾“å…¥æˆ–æ–‡ä»¶å†…å®¹ã€‚ç†è§£å…¶è¡Œä¸ºå’Œç‰¹æ€§å¯ä»¥å¸®åŠ©å¼€å‘è€…ç¼–å†™æ›´å¥å£®å’Œé«˜æ•ˆçš„ä»£ç ã€‚
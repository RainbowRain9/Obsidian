---
created time: 2024-04-17 22:45:59
updated time: 2024-04-17 22:59:14
dtype: 概念
subject: C++
tags:
  - review
dg-publish: true
banner: https://source.unsplash.com/900x1600/?tree
banner_icon: 🧠
---

# 二维数组

二维数组在C++中是一种基本的数据结构，用于存储具有行和列的元素集合，通常用于模拟矩阵或表格。

## 概念

二维数组可以视为一个表格，其中每个元素都可以通过两个索引来定位：行索引和列索引。

## 定义

在C++中，二维数组的定义需要指定行数和列数。例如：

```C++
int a[3][2]; // 定义了一个3行2列的整数二维数组
```

对于多维数组，可以类似地定义，例如三维数组：

```C++
double b[3][3][2]; // 定义了一个3x3x2的浮点数三维数组
```

## 初始化

二维数组的初始化可以通过以下方式进行：

1. **完全初始化**：在定义时初始化所有元素。

```C++
int a[3][2] = {
    {1, 3},
    {5, 7},
    {9, 11}
};
```

2. **部分初始化**：只初始化部分元素，其余使用默认值0。

```C++
int a[3][2] = {
    {2},
    {4},
    {6}
};
```

3. **省略第一维长度**：如果有初始化列表，可以省略数组定义的第一维长度。

```C++
int a[][3] = {
    {3, 6, 9},
    {},
    {8}
};
```

4. **循环初始化**：通过循环为数组元素赋值。

```C++
const int m = 5, n = 10;
int a[m][n];
for (int i = 0; i < m; i++) {
    for (int j = 0; j < n; j++) {
        a[i][j] = ... // 根据实际需要写表达式
    }
}
```

## 输入输出

二维数组的输入输出通常通过双层循环实现：

1. **输入**：输入数组的每个元素。

```C++
const int m = 5, n = 10;
int a[m][n];
for (int i = 0; i < m; i++) {
    for (int j = 0; j < n; j++) {
        cin >> a[i][j];
    }
}
```

2. **输出**：按格式输出数组的每个元素，每列元素之间有空格，每行结束后换行。

```C++
for (int i = 0; i < m; i++) {
    for (int j = 0; j < n; j++) {
        cout << a[i][j];
        if (j < n - 1) { // 每列元素之间有空格
            cout << " ";
        }
    }
    cout << endl; // 每行结束后换行
}
```

## 动态定义

当数组的维度在运行时确定时，可以使用指针和动态内存分配来定义二维数组：

```C++
int m, n;
cin >> m >> n;
int** a = new int* [m];
for (int i = 0; i < m; i++) {
    a[i] = new int[n];
}
```

## 回收动态定义的二维数组

动态分配的二维数组需要显式释放内存：

```C++
for (int i = 0; i < m; i++) {
    delete[] a[i];
}
delete[] a;
```

## 例题

**例题1**：定义一个5行5列的数组，数组里元素的值按照特定规律设置。

```C++
for (int i = 0; i < m; i++) {
    for (int j = 0; j < n; j++) {
        a[i][j] = i * n + j + 1;
    }
}
```

**例题2**：输入两个正整数m和n，定义一个m行n列的数组，数组中下标为0的行以及下标为0的列的元素值都等于1，其它元素等于它上边元素加它左边元素的和。

```C++
if (i == 0 || j == 0) {
    a[i][j] = 1;
} else {
    a[i][j] = a[i - 1][j] + a[i][j - 1];
}
```

二维数组是处理表格数据的强大工具，理解其定义、初始化、输入输出和动态内存管理对于编程非常重要。
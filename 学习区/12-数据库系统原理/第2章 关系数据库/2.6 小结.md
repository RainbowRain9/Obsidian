---
命名: __2.6 小结
课程:
  - "[[第2章 关系数据库]]"
状态: 完成
创建时间: Invalid date
执行人: 蔡蔡鸿宇
时间安排: Invalid date
待解决问题: 待解决:[ 0 ]
created: 2025-03-29T21:52
updated: 2025-03-29T21:52
---
> [!important]

> [!important]

# 2.6 小结

本章系统阐述了关系数据库的核心理论，涵盖**关系模型数据结构**、**完整性约束**、**关系操作**及**关系演算**，为理解关系数据库的数学基础和实践应用提供完整框架。以下是关键内容总结：

---

## 核心概念总结

### 1. 关系模型数据结构

- **关系**：二维表结构，由**属性**（列）和**元组**（行）构成。
- **域**（Domain）：属性的取值范围（如 `性别 ∈ {'男', '女'}`）。
- **候选码**：唯一标识元组的最小属性组，主码为候选码的选定实例。
- **关系模式**：关系的型，形式化为 `R(U, D, DOM, F)`。

### 2. 完整性约束

|   |   |   |
|---|---|---|
|约束类型|规则描述|示例|
|**实体完整性**|主属性不可为空|学生表主码 `学号` 禁止空值|
|**参照完整性**|外码值必须是被参照关系主码的有效值或空值|选课表的 `课程号` 必须存在于课程表|
|**用户定义完整性**|自定义业务规则（如取值范围、格式约束）|学分仅允许 `{1,2,3,4}`|

### 3. 关系操作

- **关系代数**：过程式语言，核心操作符：$\{\sigma, \pi, \bowtie, \cup, -, \times\}$
- **关系演算**：声明式语言，分为：
    - **元组关系演算**：`{ t | P(t) }`
    - **域关系演算**：`{ ⟨x₁,x₂⟩ | P(x) }`

---

## 关系代数与关系演算对比

|   |   |   |
|---|---|---|
|特性|关系代数|关系演算|
|**表达方式**|显式操作步骤（过程式）|逻辑公式描述结果（声明式）|
|**核心元素**|运算符（如并、选择、连接）|谓词逻辑（存在量词 ∃、全称量词 ∀）|
|**等价性**|与安全的关系演算等价|与关系代数等价|
|**典型应用**|SQL 查询优化基础|QBE 查询语言理论基础|

---

## 关键公式与运算

### 1. 关系代数核心运算

- **选择**：  
    $\sigma_{F}(R) = \{ t \mid t \in R \land F(t) \}$
- **自然连接**：  
    $R \bowtie S = \pi_{R.*, S.\text{非公共属性}}(\sigma_{R.公共属性=S.公共属性}(R \times S))$
- **除运算**：  
    $R \div S = \{ t \mid t \in \pi_{X}(R) \land \forall s \in S, (t, s) \in R \}$

### 2. 关系演算典型表达式

- **查询选修所有课程的学生**（元组演算）：  
    $$ \{ t \mid \forall s \in \text{Course} \ \exists r \in \text{SC} \ (t[\text{Sno}] = r[\text{Sno}] \land r[\text{Cno}] = s[\text{Cno}]) \} $$  
    

---

## 实际应用意义

1. **数据库设计**：
    - 通过完整性约束保障数据一致性（如外键约束防止无效引用）。
2. **查询优化**：
    - 关系代数表达式可转换为高效执行计划（如选择操作尽早过滤数据）。
3. **SQL 实现基础**：
    - `SELECT-FROM-WHERE` 对应 `π-σ-⋈` 组合操作。
    - 嵌套查询依赖存在量词（`EXISTS`）和全称量词（`NOT EXISTS`）逻辑。

---

## 本章知识图谱

```Mermaid
graph TD
    A[关系模型] --> B[数据结构]
    A --> C[完整性约束]
    A --> D[关系操作]
    B --> B1(关系/属性/域)
    B --> B2(候选码/主码)
    C --> C1(实体完整性)
    C --> C2(参照完整性)
    C --> C3(用户定义完整性)
    D --> D1[关系代数]
    D --> D2[关系演算]
    D1 --> D11{并/差/交}
    D1 --> D12[选择/投影]
    D1 --> D13[连接/除]
    D2 --> D21(元组演算)
    D2 --> D22(域演算)
```
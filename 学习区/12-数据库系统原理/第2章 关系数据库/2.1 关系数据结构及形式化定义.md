---
命名: __2.1 关系数据结构及形式化定义
课程:
  - "[[第2章 关系数据库]]"
状态: 完成
创建时间: Invalid date
执行人: 蔡蔡鸿宇
时间安排: Invalid date
待解决问题: 待解决:[ 0 ]
created: 2025-03-29T21:52
updated: 2025-03-29T21:52
---
> [!important]

> [!important]

# 2.1.1 关系

## 核心定义体系

- **数据结构本质**：二维表结构的数学抽象
- **形式化基础**：建立在集合论的笛卡尔积运算上
- **现实映射**：实体与实体间联系的表象载体

## 核心三要素解析

### 1. 域（Domain）

- **数学定义**：$D = \{v_1, v_2, ..., v_n\}$（值域集合）
- **关键特性**：
    - 严格的数据类型约束
    - 明确的取值范围界定
- **典型实例**：
    - 学号域：10位数字组成的字符串
    - 成绩域：0~100的整数集合
    - 性别域：{'男','女','未声明'}

### 2. 笛卡尔积

- **生成规则**：$D_1×D_2×...×D_n$ 的完全组合
- **运算特性**：
    - 基数计算：$\prod_{i=1}^n |D_i|$
    - 元组无序性
- **教学案例**：
    
    ```Plain
    导师域：{张清玫, 刘逸}
    专业域：{计算机, 信息}
    研究生域：{李勇, 刘晨, 王敏}
    
    生成12个元组：
    (张,计算机,李), (张,计算机,刘), ..., (刘,信息,王)
    ```
    

### 3. 关系构造

- **有效子集**：从笛卡尔积中筛选有业务含义的元组
- **键机制**：
    - 候选键：最小唯一标识属性组
    - 主键选定：操作便利性优先原则
    - 外键约束：跨关系引用完整性

## 关系类型矩阵

|   |   |   |   |
|---|---|---|---|
|类型|存储特性|生命周期|应用场景|
|基本关系|物理存储|持久|核心业务数据|
|查询关系|临时存储|会话级|数据分析结果|
|视图关系|逻辑定义|动态生成|数据安全控制|

## 关系约束六律

1. **列同质律**：单列值域严格统一
2. **属性独立律**：列名唯一性保障
3. **元组唯一律**：主键值不可重复
4. **行无序律**：物理存储与逻辑顺序解耦
5. **列无序律**：模式定义决定列序
6. **原子性律**：禁止嵌套表结构

# 2.1.2 关系模式

### 双层抽象结构

- **型（Schema）**：R(U,D,DOM,F)
    - U: 属性集合（如{Sno,Sname}）
    - D: 值域定义（如Sno域为10位数字）
    - DOM: 属性-域映射（如Sname→VARCHAR(20)）
    - F: 函数依赖集合
- **实例（Instance）**：特定时刻的数据快照

### 模式演进示例

**初始模式**：

```SQL
Student(Sno, Sname, Ssex)
```

**演进后模式**：

```SQL
Student(Sno CHAR(10) PRIMARY KEY,
        Sname VARCHAR(20) NOT NULL,
        Ssex ENUM('M','F') DEFAULT 'M')
```

# 2.1.3 关系数据库

### 架构要素

- **模式集合**：所有关系模式的统一定义
- **状态空间**：满足完整性约束的关系实例集合
- **操作规范**：CRUD操作的代数理论基础

### 典型特征

- **数据独立性**：
    - 物理独立性：存储结构透明化
    - 逻辑独立性：模式演进不影响应用
- **集合操作**：基于关系代数的批量处理
- **动态绑定**：视图机制实现逻辑数据抽象

# 2.1.4 关系模型的存储结构

### 实现策略对比

|   |   |   |   |
|---|---|---|---|
|策略类型|优势|劣势|典型代表|
|文件映射式|开发简单|性能受限|MySQL MyISAM|
|自主存储管理|优化空间利用率|实现复杂度高|Oracle ASM|
|混合式存储|平衡性能与复杂度|维护成本较高|PostgreSQL|

### 物理存储特征

- **行存储**：元组连续存储（OLTP场景优化）
- **列存储**：属性垂直分区（OLAP场景优化）
- **索引机制**：
    - B+树索引：范围查询优化
    - 哈希索引：等值查询加速
    - 位图索引：低基数属性优化
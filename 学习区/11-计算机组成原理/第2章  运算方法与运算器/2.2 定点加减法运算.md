---
命名: __2.2 定点加减法运算
课程:
  - "[[第2章  运算方法与运算器]]"
状态: 完成
创建时间: Invalid date
执行人: 蔡蔡鸿宇
时间安排: Invalid date
待解决问题: 待解决:[ 0 ]
created: 2025-03-29T21:52
updated: 2025-04-08T16:40
---
> [!important]

> [!important]

# 2.2 定点加减法运算

## 2.2.1 补码加减法运算

- **补码加法公式**
    
    $[x+y]{补} = [x]{补} + [y]_{补} \\mod 2^{n+1}$
    
    - 特点：符号位参与运算，结果自动取模
    - 示例：
        - $x=+0.1011, \\quad y=-0.0101$
        - $[x]{补}=0.1011, \\quad [y]{补}=1.1011$
    - 结果：$0.1011+1.1011=10.0110 \rightarrow \text{舍去进位得 } 0.0110$
- **补码减法公式**
    
    $[x-y]{补} = [x]{补} + [-y]_{补} \\mod 2^{n+1}$
    
    - 关键操作：对$[y]{补}$取反加1得到_$[-y]{补}$_
    - 示例：
        - $x=+0.1101, \\quad y=+0.0110$
        - $[y]{补}=0.0110 \rightarrow [-y]{补}=1.1010$
    - 结果：$0.1101+1.1010=10.0111 \rightarrow \text{舍去进位得 } 0.0111$

---

## 2.2.2 溢出检测与处理

- **溢出类型**
    - 正溢：结果超过最大正数范围
    - 负溢：结果小于最小负数范围
- **检测方法**
    1. **单符号位法**  
        逻辑表达式：$V = C_f \oplus C_0$
        - $C_f$: 符号位进位
        - $C_0$: 最高有效位进位
        - 示例：  
            $0.1011+0.1001=1.0100$  
            符号位无进位，最高有效位有进位 → 正溢  
            
    2. **双符号位法（变形补码）**
        - 符号位组合：
            - `00`: 正数无溢出
            - `01`: 正溢
            - `10`: 负溢
            - `11`: 负数无溢出
        - 示例：  
            $00.1100+00.1000=01.0100$  
            符号位为  
            `01` → 正溢

---

## 2.2.3 运算器实现

### 1. 行波进位加法器

- **结构**  
    n个全加器串联，进位逐级传递  
    
- **延迟分析**
    - 每位全加器延迟：$6T$（求和） + $5T$（进位）
    - n位总延迟：$t = (2n+9)T$
- **逻辑图**
    
    ```Plain
    A0──FA─S0
    B0─┘  │
    C0────┘
    ...
    An-1─FA─Sn-1
    Bn-1─┘  │
    Cn-1───┘
    ```
    

### 2. 先行进位加法器（CLA）

- **核心公式**  
    $C_{i+1} = G_i + P_i \cdot C_i$
    - $G_i = A_i \cdot B_i$（进位生成）
    - $P_i = A_i \oplus B_i$（进位传递）
- **4位CLA结构**
    - 并行计算所有进位
    - 延迟：$2T$（进位生成） + $3T$（求和） = $5T$
- **多级分组设计**
    - 16位加法器：4组4位CLA + 组间CLA（74182）
    - 总延迟：$t = 3T + 4 \times 2T + 3T = 14T$

---

## 2.2.4 逻辑运算与ALU

- **基本逻辑运算**
    - 非：$\overline{A}$
    - 或：$A+B$
    - 与：$A \cdot B$
    - 异或：$A \oplus B$
- **多功能ALU（74181）**
    - 4位算术/逻辑单元
    - 支持16种算术运算和16种逻辑运算
    - 关键控制信号：
        - $S_3S_2S_1S_0$: 功能选择
        - $M$: 模式选择（算术/逻辑）
- **ALU扩展设计**
    - 64位ALU：16组4位CLA + 组间CLA（74182）
    - 延迟：$t = 3T + 4 \times 2T + 3T = 14T$

---

## 2.2.5 定点运算器组成

- **核心组件**
    
    1. 算术逻辑单元（ALU）
    2. 寄存器组（累加器、乘商寄存器等）
    3. 移位器（桶形移位器）
    4. 数据总线与多路选择器
    
    - **典型结构**
    
    ```Plain
    ┌───────┐   ┌───────┐
    │ 寄存器 │←→│  ALU  │←→移位器
    └───────┘   └───────┘
       ↑↓         ↑
      数据总线
    ```
---
id: a2473f6a-7adf-4848-9702-3f0c51248643
url: https://mp.weixin.qq.com/s/BomBIG4WfM7wtmOzuEQDzA
title: |
  Obsidian æ’ä»¶ï¼šObsidian Leaflet ç”¨æ³•ä¹‹ç®¡ç†è‡ªå·±çš„æ—…è¡Œç…§ç‰‡
author: |
  StarAire
source: å¾®ä¿¡å…¬ä¼—å·
dtype: æ•™ç¨‹
tags:
  - 400å…´è¶£ç±»/ç”µè„‘è½¯ä»¶/Obsidian/æ•™ç¨‹/å®è·µ
state: false
date: 2023-12-19 08:09:02
---


# Obsidian æ’ä»¶ï¼šObsidian Leaflet ç”¨æ³•ä¹‹ç®¡ç†è‡ªå·±çš„æ—…è¡Œç…§ç‰‡
#Omnivore

[Read on Omnivore](https://omnivore.app/me/https-mp-weixin-qq-com-s-bom-big-4-wf-m-7-wtm-ozu-eq-dz-a-18c7f6763ff)
[Read Original](https://mp.weixin.qq.com/s/BomBIG4WfM7wtmOzuEQDzA)

åŸåˆ›  StarAire  PKMer çŸ¥è¯†ç¤¾åŒº _2023-12-18 18:00_ _å‘è¡¨äºé™•è¥¿_ 

![å›¾ç‰‡](https://proxy-prod.omnivore-image-cache.app/0x0,sWB7bCVTTIWKrlZdnX7Jyil7Y5MZ6CVdjWLzq622Tx3U/https://mmbiz.qpic.cn/mmbiz_svg/ic3ibEjvYaKJxBj47ccnYYvUhaurdlVFwyiaqtVTZfcMvSA3wazqu093HttUeEoHOdlTAcHLujiclcUE3UiaTeWCX4JfmzZBF0Df4/640?wx_fmt=svg)

![å›¾ç‰‡](https://proxy-prod.omnivore-image-cache.app/0x0,sMu_2pSXPShKJlMnmhOnpftjlhAYhckY0UesTTgV0xGI/https://mmbiz.qpic.cn/mmbiz_svg/ic3ibEjvYaKJxBj47ccnYYvUhaurdlVFwy3FKEjddSVsrqY1PdQWF8JN7VYt9dXUI9Wxo3vboL5h0vlgsq3u6DzUBqZUb1hvhI/640?wx_fmt=svg)

ç‚¹å‡»ä¸Šæ–¹è“å­—ï¼Œå…³æ³¨æ˜Ÿæ ‡ä¸è¿·è·¯

æœ¬æ–‡é¦–å‘äºPKMerç½‘ç«™ï¼Œä¿¡æ¯å¯èƒ½å·²ç»è¿‡æ—¶ï¼Œç‚¹å‡»æ–‡æœ«å·¦ä¸‹è§’ **é˜…è¯»åŸæ–‡** è·å–æœ€æ–°ä¿¡æ¯

## æ¦‚è¿°

é€šè¿‡ç…§ç‰‡çš„ GPS å®šä½ä¿¡æ¯æ ‡è®°åœ¨åœ°å›¾ä¸Šï¼Œé¼ æ ‡æ”¾åœ¨æ ‡è®°ç‚¹ä¸Šå¯é¢„è§ˆå›¾ç‰‡ï¼Œæ ‡è®°ç‚¹å¯ç»‘å®šæ–‡ä»¶å’Œå›¾ç‰‡ï¼Œå¯ä»¥åœ¨é‡Œé¢å†™éšæƒ³å’Œç…§ç‰‡ï¼Œè®©ç›¸å†Œé‡Œçš„ç…§ç‰‡è·ƒç„¶åœ°å›¾ä¹‹ä¸Šã€‚

![å›¾ç‰‡](https://proxy-prod.omnivore-image-cache.app/0x0,s0LWrXN_fFd5ESlFVsf1cmGVO2E3sduJvGDZCgmrIkoQ/https://mmbiz.qpic.cn/sz_mmbiz_png/epTcXdtRjfPkQkWjw6U5hcXBGAwtF8t1Mq1CwpX8U0K3UKx637kmo15WicbTQeDia0VXsiaO1vSBxia8iaeicFiagBYJw/640?wx_fmt=png&from=appmsg)

![å›¾ç‰‡](https://proxy-prod.omnivore-image-cache.app/0x0,s1SpZbDojcWtq-p0fg_cNg7YhOt6PSGHc4wLDMY-PsW4/https://mmbiz.qpic.cn/sz_mmbiz_png/epTcXdtRjfPkQkWjw6U5hcXBGAwtF8t1awicQvafNmuF8sicutiaqTjs6hI9yWAPWJJibsEIFSXt4zwibnootO2CFuQ/640?wx_fmt=png&from=appmsg)

> æ’ä»¶åç‰‡
> 
> * æ’ä»¶åç§°ï¼šObsidian Leaflet
> * æ’ä»¶ä½œè€…ï¼šJeremy Valentine
> * æ’ä»¶è¯´æ˜ï¼šåœ¨ç¬”è®°ä¸­æ’å…¥äº¤äº’å¼åœ°å›¾ï¼Œæ­¤åœ°å›¾åŸºäº Leaflet.jsã€‚æ·»åŠ éœ€è¦é€šè¿‡ä½¿ç”¨ç‰¹å®šè¯­æ³•ã€‚
> * æ’ä»¶åˆ†ç±»ï¼š\[' ç¬¬ä¸‰æ–¹å·¥å…·é›†æˆ ', ' å›¾ç‰‡ ', 'obsidian æ’ä»¶ ', 'readme'\]
> * é¡¹ç›®åœ°å€ï¼šhttps://github.com/javalent/obsidian-leaflet
> * å›½å†…ä¸‹è½½åœ°å€ï¼šhttps://pkmer.cn/products/plugin/pluginMarket/?obsidian-leaflet-plugin

## 1 å‰è¨€

è‡ªä»ä½¿ç”¨ nas å¤‡ä»½è‡ªå·±çš„ç…§ç‰‡ä¹‹åï¼Œæˆæ‰¹çš„ç…§ç‰‡ç®¡ç†å°±æˆäº†é—®é¢˜ï¼Œç…§ç‰‡æ”¶é›†èµ·æ¥ï¼Œä¸€å †ä¹±ç³Ÿç³Ÿï¼Œä¸çŸ¥ä»ä½•çœ‹èµ·ï¼Œæ‰€ä»¥å°è¯•äº†å¾ˆå¤šç…§ç‰‡ç®¡ç†å·¥å…·ï¼Œæœ‰æŠŠä¸€å †ç…§ç‰‡æŒ‰æ—¶é—´åˆ†ç±»æ•´ç†çš„å°è½¯ä»¶ï¼Œè¿˜æœ‰ä¸€äº›ç®¡ç†ç…§ç‰‡çš„è½¯ä»¶ä¾‹å¦‚ digikam æˆ– PhotoPrismï¼Œä»–ä»¬åŠŸèƒ½éƒ½å¾ˆå¼ºå¤§ï¼Œå¯ä»¥å¿«é€Ÿçš„ç®¡ç†å›¾ç‰‡ã€‚

è¿™äº›ç…§ç‰‡ç®¡ç†è½¯ä»¶æœ‰ä¸€ä¸ªåœ°å›¾çš„åŠŸèƒ½è®©æˆ‘æ„Ÿè§‰ç‰¹åˆ«æœ‰æ„æ€ï¼Œä½†ä½¿ç”¨èµ·æ¥éƒ½æœ‰ç‚¹ä¸å°½å¦‚äººæ„ï¼Œä¾‹å¦‚ PhotoPrism çš„åœ°å›¾åŠŸèƒ½éœ€è¦æ”¶è´¹ï¼Œdigikam çš„åœ°å›¾å¾ˆæ¨¡ç³Šï¼Œè§‚æ„Ÿä¸å¤ªå¥½ã€‚

äºæ˜¯çªç„¶æœ‰ä¸€å¤©æˆ‘çœ‹åˆ° obsidian æœ‰ä¸ª Obsidian Leaflet æ’ä»¶ï¼Œäº†è§£ä¸€ç•ªä¹‹åè§‰å¾—ç®€ç›´å®Œç¾ï¼Œä¸‹é¢æˆ‘å°±ç®€è¿°ä¸€ä¸‹è¿™ä¸ªæ’ä»¶çš„ä½¿ç”¨æ–¹æ³•ã€‚

## 2 åŸºæœ¬ä½¿ç”¨æ–¹æ³•

### 2.1 å®‰è£…æ’ä»¶

é¦–å…ˆå¯ä»¥å» github ä¸Šçœ‹ä¸‹è¿™ä¸ªæ’ä»¶çš„ä»“åº“ï¼šhttps://github.com/javalent/obsidian-leaflet

å®ƒç»™äº†ä¸€ä¸ªæ¡ˆä¾‹å’Œä¸€ä¸ªè¡¨

![](https://proxy-prod.omnivore-image-cache.app/0x0,smfz8NQkYzy5b7ZErgwgZEce0NJjRLzXR7hbsScweo70/https://mmbiz.qpic.cn/mmbiz_svg/ic3ibEjvYaKJxBj47ccnYYvVhUampdIAibQFTKxApWKGck4fGGlJ9qgRB4lvstgkVWKFUYKibShnmcrVEE0sZWoYpZsWlHoLTPng/640?wx_fmt=svg&from=appmsg)```` ```leafletid:Â leaflet-mapimage:Â [[Image.jpg]]height:Â 500pxlat:Â 50long:Â 50minZoom:Â 1maxZoom:Â 10defaultZoom:Â 5unit:Â metersscale:Â 1marker:Â default,Â 39.983334,Â -82.983330,Â [[Note]]darkMode:Â true``` ````

æˆ‘ä»¬æ”¹ä¸º

![](https://proxy-prod.omnivore-image-cache.app/0x0,smfz8NQkYzy5b7ZErgwgZEce0NJjRLzXR7hbsScweo70/https://mmbiz.qpic.cn/mmbiz_svg/ic3ibEjvYaKJxBj47ccnYYvVhUampdIAibQFTKxApWKGck4fGGlJ9qgRB4lvstgkVWKFUYKibShnmcrVEE0sZWoYpZsWlHoLTPng/640?wx_fmt=svg&from=appmsg)```` ```leafletid:Â TT20220521osmLayer:Â falsetileServer:Â http://{s}.tile.osm.org/{z}/{x}/{y}.pngtileSubdomains:Â ['a',Â 'b',Â 'c']lat:Â 30.2574long:Â 120.1429height:Â 800pxwidth:Â 100%defaultZoom:Â 16maxzoom:Â 18minzoom:Â 1unit:Â metersscale:Â 1markerFolder:Â 100_Schedule/130_è®¡åˆ’æ¸…å•/133_æ—…æ¸¸è®¡åˆ’/æ—…æ¸¸è®°å½•/2022/2022å¹´5æœˆè¥¿æ¹–ä¸€æ—¥æ¸¸/æ ‡è®°ç‚¹``` ````

è§£é‡Šä¸€ä¸‹

* `id`ï¼šç”¨æ¥è¯†åˆ«è¿™ä¸ªå—çš„ idï¼Œå†™ä¸€ä¸ªç‹¬ä¸€æ— äºŒçš„å°±è¡Œï¼Œæ’ä»¶ç”¨è¿™ä¸ª id å’Œæ ‡è®°ç‚¹ç»‘å®š
* `osmLayer: false`ï¼šæˆ‘ä»¬è¿™é‡Œä½¿ç”¨çœŸå®åœ°å›¾ï¼Œæ‰€ä»¥è¿™é‡Œå†™ `false`
* `tileServer`ï¼šåœ°å›¾ç“¦ç‰‡æœåŠ¡å™¨åœ°å€ï¼Œè¿™é‡Œé€‰æ‹© `openstreetmap` çš„æº `http://{s}.tile.osm.org/{z}/{x}/{y}.png`ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©é«˜å¾·çš„æºï¼Œä¸‹é¢ä¼šè¯´åˆ°
* `tileSubdomains`ï¼šè¿™æ˜¯ç”³è¯·æ•°æ®è¦é™„å¸¦çš„ï¼Œè¿™é‡Œå¡« `['a', 'b', 'c']`ï¼Œä¸åŒçš„æœåŠ¡å™¨ä¸ä¸€æ ·
* `lat`ï¼šåœ°å›¾æ‰“å¼€æ—¶ä¸­å¿ƒç‚¹çš„çº¬åº¦
* `long`ï¼šåœ°å›¾æ‰“å¼€æ—¶ä¸­å¿ƒç‚¹çš„ç»åº¦
* `height`ï¼šåœ°å›¾åœ¨ obsidian é¡µé¢é«˜åº¦ï¼Œå¯ä»¥å¡«åƒç´ å€¼æˆ–è€…ç™¾åˆ†æ¯”ï¼Œè¿™é‡Œå¯ä»¥è‡ªç”±è°ƒæ•´
* `width`: åœ°å›¾åœ¨ obsidian é¡µé¢å®½åº¦ï¼Œå’Œä¸Šé¢ä¸€æ ·
* `defaultZoom`ï¼šé»˜è®¤çš„ä¸€ä¸ªç¼©æ”¾ï¼Œè¿™é‡Œæ’ä»¶åŸæ¥çš„ä¸€ä¸ªèŒƒå›´æ˜¯ `1-10`ï¼Œå¯¼è‡´åœ°å›¾ä¸èƒ½æ”¾çš„å¾ˆå°ï¼Œåé¢è®²ä¸€ä¸‹æ€ä¹ˆæŠŠèŒƒå›´æ”¹å¤§ï¼Œè¿™é‡Œé»˜è®¤å¡« `16`ï¼Œå¯ä»¥è‡ªå·±è°ƒæ•´
* `maxzoom`ï¼šç¼©æ”¾æœ€å¤§é™åˆ¶
* `minzoom`ï¼šç¼©æ”¾æœ€å°é™åˆ¶
* `unit`ï¼šåœ°å›¾å•ä½ï¼Œè¿™é‡Œå¡« `meters`
* `scale`ï¼šæˆ‘ä¹Ÿä¸çŸ¥é“æ˜¯ä»€ä¹ˆï¼Œç…§ç€å¡« 1 å°±è¡Œäº†
* `markerFolder`: æ ‡è®°ç‚¹æ–‡ä»¶å¤¹ï¼Œå¯ä»¥æš‚æ—¶ä¸å¡«

### 2.2 æ·»åŠ æƒ³è¦çš„åœ°å›¾

#### ä¿®æ”¹ä¸­å¿ƒç‚¹ç»çº¬åº¦

æ‰“å¼€https://www.openstreetmap.org/#map

æ‰¾åˆ°è‡ªå·±æƒ³è¦å®šä½çš„ç‚¹

![å›¾ç‰‡](https://proxy-prod.omnivore-image-cache.app/0x0,stSe4DX024NlyPIWzETYA6EhIU1GBDwLdUhM5HVj0LcM/https://mmbiz.qpic.cn/sz_mmbiz_png/epTcXdtRjfPkQkWjw6U5hcXBGAwtF8t1iaY0rU3XMZpzVfAz1xGhqfWgoBJ58t0Xic1AzU2CMyh7E1W79wxLibfUg/640?wx_fmt=png&from=appmsg)

å°†ä¸Šé¢çš„ç»çº¬åº¦å¤åˆ¶ä¸‹æ¥ï¼Œå‰é¢æ˜¯çº¬åº¦ï¼Œåé¢æ˜¯ç»åº¦ï¼Œå¤åˆ¶åˆ°ä¸Šé¢çš„ lat å’Œ long åé¢

#### ä¿®æ”¹ç¼©æ”¾é™åˆ¶

æ‰“å¼€ç¬”è®°æ–‡ä»¶å¤¹ç›®å½•åº•ä¸‹çš„ `.obsidian` æ–‡ä»¶å¤¹ï¼Œç„¶åæ‰“å¼€ `Plugins`\-`obsidian-leaflet-plugin`ï¼Œæ‰“å¼€é‡Œé¢çš„ `main.js`ï¼Œå…¨å±€æœç´¢ `maxzoom:10`ï¼Œå…¨éƒ¨ä¿®æ”¹ä¸º `maxzoom:18`

ç„¶åä¿å­˜ï¼Œè½¯ä»¶é‡å¯

æœ€åæˆ‘ä»¬è¾“å…¥

![](https://proxy-prod.omnivore-image-cache.app/0x0,smfz8NQkYzy5b7ZErgwgZEce0NJjRLzXR7hbsScweo70/https://mmbiz.qpic.cn/mmbiz_svg/ic3ibEjvYaKJxBj47ccnYYvVhUampdIAibQFTKxApWKGck4fGGlJ9qgRB4lvstgkVWKFUYKibShnmcrVEE0sZWoYpZsWlHoLTPng/640?wx_fmt=svg&from=appmsg)```` ```leafletid:Â TT20220430osmLayer:Â falsetileServer:Â http://{s}.tile.osm.org/{z}/{x}/{y}.pngtileSubdomains:Â ['a',Â 'b',Â 'c']lat:Â 30.2495long:Â 120.1436height:Â 800pxwidth:Â 100%defaultZoom:Â 14maxzoom:Â 18minzoom:Â 1unit:Â metersscale:Â 1``` ````

æ˜¾ç¤ºæ•ˆæœå¦‚ä¸‹

![å›¾ç‰‡](https://proxy-prod.omnivore-image-cache.app/0x0,sw7ygdWW83W1vWuZuZG-KIJhdh9Gl76Mlm2Z2RQvBTfA/https://mmbiz.qpic.cn/sz_mmbiz_png/epTcXdtRjfPkQkWjw6U5hcXBGAwtF8t1MyFl9AwRopzUibic6ibd26qCNBzNAPibFT38v8zVMVliayhzpIXeEzuWIeA/640?wx_fmt=png&from=appmsg)

### 2.3 æ·»åŠ æ ‡è®°ç‚¹

#### æœ€å¿«æ·çš„æ–¹å¼

æ‰¾åˆ°è¦æ ‡è®°çš„ç‚¹ï¼Œé¼ æ ‡å³é”®ï¼Œå°±æ‰“ä¸Šäº†ä¸€ä¸ªæ ‡è®°ç‚¹ï¼Œ

ç„¶åå³é”®æ ‡è®°ç‚¹ï¼Œç¼–è¾‘æ ‡è®°ï¼ŒDescription å¯ä»¥æ·»åŠ è¿™ä¸ªç‚¹çš„æè¿°ä¿¡æ¯

å³é”®æ ‡è®°ç‚¹ -`è½¬æ¢ä¸ºä»£ç å—`ï¼Œæ­¤æ—¶åˆ‡å›ç¼–è¾‘æ¨¡å¼ï¼Œå¯ä»¥çœ‹è§è‡ªåŠ¨æ·»åŠ äº†è¿™ä¸ª

![](https://proxy-prod.omnivore-image-cache.app/0x0,smfz8NQkYzy5b7ZErgwgZEce0NJjRLzXR7hbsScweo70/https://mmbiz.qpic.cn/mmbiz_svg/ic3ibEjvYaKJxBj47ccnYYvVhUampdIAibQFTKxApWKGck4fGGlJ9qgRB4lvstgkVWKFUYKibShnmcrVEE0sZWoYpZsWlHoLTPng/640?wx_fmt=svg&from=appmsg)`marker:Â default,30.258943640372824,120.13927459716798,,,,`

æ­¤æ—¶å†åˆ‡å›é¢„è§ˆï¼Œå‘ç°æ ‡è®°ç‚¹æ˜¯ä¸æ˜¯ä¸è§äº†ï¼Œåˆ«æ€¥ï¼ŒæŠŠä¸Šé¢çš„åé¢å‡ ä¸ªé€—å·å»æ‰

![](https://proxy-prod.omnivore-image-cache.app/0x0,smfz8NQkYzy5b7ZErgwgZEce0NJjRLzXR7hbsScweo70/https://mmbiz.qpic.cn/mmbiz_svg/ic3ibEjvYaKJxBj47ccnYYvVhUampdIAibQFTKxApWKGck4fGGlJ9qgRB4lvstgkVWKFUYKibShnmcrVEE0sZWoYpZsWlHoLTPng/640?wx_fmt=svg&from=appmsg)`marker:Â default,30.258943640372824,120.13927459716798`

å†åˆ‡å›é¢„è§ˆæ¨¡å¼ï¼Œç‚¹åˆå›æ¥äº†

æˆ‘ä»¬å¯ä»¥çœ‹ä¸‹ github ä»“åº“é‡Œç»™æˆ‘ä»¬çš„è¯´æ˜

![](https://proxy-prod.omnivore-image-cache.app/0x0,smfz8NQkYzy5b7ZErgwgZEce0NJjRLzXR7hbsScweo70/https://mmbiz.qpic.cn/mmbiz_svg/ic3ibEjvYaKJxBj47ccnYYvVhUampdIAibQFTKxApWKGck4fGGlJ9qgRB4lvstgkVWKFUYKibShnmcrVEE0sZWoYpZsWlHoLTPng/640?wx_fmt=svg&from=appmsg)`marker:Â <type*>,<latitude>,<longitude>,<link*>,<description*>,<minZoom*>,<maxZoom*>`

ç¬¬ä¸€ä¸ª type æ˜¯ç‚¹çš„ç±»å‹ï¼Œè¿™é‡Œ default å³å¯

ç¬¬äºŒä¸ªç¬¬ä¸‰ä¸ªæ˜¯ç»çº¬åº¦

ç¬¬å››ä¸ªæ˜¯æ–‡ä»¶é“¾æ¥ï¼Œè¿™é‡Œæˆ‘ä»¬å¯ä»¥é“¾æ¥ç…§ç‰‡ä¹Ÿå¯ä»¥é“¾æ¥æ–‡ä»¶ï¼Œ

ç¬¬äº”ä¸ªæ˜¯ descriptionï¼Œæ˜¯æè¿°

ç¬¬å…­ç¬¬ä¸ƒä¸ªæ˜¯æ˜¯å¯ä»¥çœ‹è§æ ‡è®°ç‚¹çš„ä¸€ä¸ªç¼©æ”¾å¤§å°åŒºé—´

æ²¡æœ‰éœ€æ±‚ï¼Œåé¢å¯ä»¥ä¸å¡«

è¿™é‡Œæˆ‘ä»¬å¯ä»¥ç®€å•çš„ç»‘å®šä¸€ä¸ªå›¾ç‰‡å’Œæ·»åŠ æè¿°ä¿¡æ¯

![](https://proxy-prod.omnivore-image-cache.app/0x0,smfz8NQkYzy5b7ZErgwgZEce0NJjRLzXR7hbsScweo70/https://mmbiz.qpic.cn/mmbiz_svg/ic3ibEjvYaKJxBj47ccnYYvVhUampdIAibQFTKxApWKGck4fGGlJ9qgRB4lvstgkVWKFUYKibShnmcrVEE0sZWoYpZsWlHoLTPng/640?wx_fmt=svg&from=appmsg)`marker:Â default,30.258943640372824,120.13927459716798,[[index.jpg]],123`

![å›¾ç‰‡](https://proxy-prod.omnivore-image-cache.app/0x0,swdjQi_VazDomx-udtISkswWPMccuv62ttlw-ZETZML4/https://mmbiz.qpic.cn/sz_mmbiz_png/epTcXdtRjfPkQkWjw6U5hcXBGAwtF8t1z0wN5qAzJ6wZNxwKvBTEOibmprbSwsCmEr6DMkNEQ3Ipv2nUygFjk1Q/640?wx_fmt=png&from=appmsg)

#### æ–‡ä»¶ +yaml åˆ›å»ºæ ‡è®°ç‚¹

æˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œç„¶ååœ¨åœ°å›¾çš„ `markerFolder` æŠŠè¿™ä¸ªè·¯å¾„æ·»åŠ è¿›å»ï¼Œä¾‹å¦‚

![](https://proxy-prod.omnivore-image-cache.app/0x0,smfz8NQkYzy5b7ZErgwgZEce0NJjRLzXR7hbsScweo70/https://mmbiz.qpic.cn/mmbiz_svg/ic3ibEjvYaKJxBj47ccnYYvVhUampdIAibQFTKxApWKGck4fGGlJ9qgRB4lvstgkVWKFUYKibShnmcrVEE0sZWoYpZsWlHoLTPng/640?wx_fmt=svg&from=appmsg)```` ```leafletid:Â TT20220521osmLayer:Â falsetileServer:Â http://{s}.tile.osm.org/{z}/{x}/{y}.pngtileSubdomains:Â ['a',Â 'b',Â 'c']lat:Â 30.2574long:Â 120.1429height:Â 800pxwidth:Â 100%defaultZoom:Â 16maxzoom:Â 18minzoom:Â 1unit:Â metersscale:Â 1markerFolder:Â 100_Schedule/130_è®¡åˆ’æ¸…å•/133_æ—…æ¸¸è®¡åˆ’/æ—…æ¸¸è®°å½•/2022/2022å¹´5æœˆè¥¿æ¹–ä¸€æ—¥æ¸¸/æ ‡è®°ç‚¹``` ````

ç„¶ååœ¨è¯¥æ–‡ä»¶å¤¹é‡Œæ·»åŠ æ ‡è®°ç‚¹æ–‡ä»¶

![å›¾ç‰‡](https://proxy-prod.omnivore-image-cache.app/0x0,sQK9fGWgHq1C1bDYHJsPn5FwlQ0or3oHHHP0-jviV4PU/https://mmbiz.qpic.cn/sz_mmbiz_png/epTcXdtRjfPkQkWjw6U5hcXBGAwtF8t1alT3MichMOPjlNib3BfkbewIx2UJ2DYqeM8icicC5q75pBllP26fsVTtZQ/640?wx_fmt=png&from=appmsg)

æˆ‘æ˜¯é€šè¿‡ç»åº¦ + çº¬åº¦çš„æ–¹å¼å‘½åçš„ï¼Œä½ ä¹Ÿå¯ä»¥æœ‰å…¶ä»–å‘½åæ–¹å¼

é‡Œé¢çš„ yaml æ ¼å¼å¯ä»¥æŒ‰ç…§è¿™æ ·

![å›¾ç‰‡](https://proxy-prod.omnivore-image-cache.app/0x0,ssawYjVgT2z1DPnwXmbMvptMYTpXF_s0l40ughO5F7uI/https://mmbiz.qpic.cn/sz_mmbiz_png/epTcXdtRjfPkQkWjw6U5hcXBGAwtF8t1nW1gic2URtlEic7kOC5S0XSRic8ibEx3ZKlhR9VJSprGWqdFO767NicXxNA/640?wx_fmt=png&from=appmsg)

æœ€å…³é”®çš„å°±æ˜¯ `mapmarker` å’Œ `location` å­—æ®µï¼Œå…¶ä»–å­—æ®µå¯ä»¥è‡ªå·±å®šä¹‰

* `mapmarker`ï¼šæ ‡è®°ç‚¹ç±»å‹ï¼Œé»˜è®¤ä¸º default
* `location`ï¼šç»çº¬åº¦ä¿¡æ¯

å› ä¸ºè¿™äº›ä¿¡æ¯éƒ½å¯ä»¥ä»ç…§ç‰‡ä¸­è·å–ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å†™ä¸€ä¸ªè„šæœ¬æ¥è·å–ä¿¡æ¯ (è¿™é‡Œå½¢å¼ä¸ä¸€ï¼Œå„ä½å¯ä»¥è‡ªè¡Œè®¾è®¡)

![](https://proxy-prod.omnivore-image-cache.app/0x0,smfz8NQkYzy5b7ZErgwgZEce0NJjRLzXR7hbsScweo70/https://mmbiz.qpic.cn/mmbiz_svg/ic3ibEjvYaKJxBj47ccnYYvVhUampdIAibQFTKxApWKGck4fGGlJ9qgRB4lvstgkVWKFUYKibShnmcrVEE0sZWoYpZsWlHoLTPng/640?wx_fmt=svg&from=appmsg)`importÂ exifreadimportÂ jsonimportÂ urllib.requestimageurlÂ =Â '![](è‡ªå·±çš„ç…§ç‰‡è·¯å¾„/'fÂ =Â open(r'ç…§ç‰‡è·¯å¾„\\'+image,Â 'rb')tagsÂ =Â exifread.process_file(f)#æ‰“å°ç…§ç‰‡å…¶ä¸­ä¸€äº›ä¿¡æ¯# print('æ‹æ‘„æ—¶é—´ï¼š', tags['EXIF DateTimeOriginal'])# print('ç…§ç›¸æœºåˆ¶é€ å•†ï¼š', tags['Image Make'])# print('ç…§ç›¸æœºå‹å·ï¼š', tags['Image Model'])# print('ç…§ç‰‡å°ºå¯¸ï¼š', tags['EXIF ExifImageWidth'], tags['EXIF ExifImageLength'])print("---")Â print("mapmarker:Â default")Â print("date:Â ",tags['EXIFÂ DateTimeOriginal'])Â print("device:Â "+Â str(tags['ImageÂ Make'])+"Â "+str(tags['ImageÂ Model']))print("place:Â ")#è·å–ç»åº¦æˆ–çº¬åº¦defÂ getLatOrLng(refKey,Â tudeKey):Â Â Â Â ifÂ refKeyÂ notÂ inÂ tags:Â Â Â Â Â Â Â Â returnÂ NoneÂ Â Â Â ref=tags[refKey].printableÂ Â Â Â LatOrLng=tags[tudeKey].printable[1:-1].replace("Â ","").replace("/",",").split(",")Â Â Â Â LatOrLng=float(LatOrLng[0])+float(LatOrLng[1])/60+float(LatOrLng[2])/float(LatOrLng[3])/3600Â Â Â Â ifÂ refKeyÂ ==Â 'GPSÂ GPSLatitudeRef'Â andÂ tags[refKey].printableÂ !=Â "N":Â Â Â Â Â Â Â Â LatOrLng=LatOrLng*(-1)Â Â Â Â ifÂ refKeyÂ ==Â 'GPSÂ GPSLongitudeRef'Â andÂ tags[refKey].printableÂ !=Â "E":Â Â Â Â Â Â Â Â LatOrLng=LatOrLng*(-1)Â Â Â Â returnÂ LatOrLngÂ latÂ =Â getLatOrLng('GPSÂ GPSLatitudeRef','GPSÂ GPSLatitude')Â #çº¬åº¦lngÂ =Â getLatOrLng('GPSÂ GPSLongitudeRef','GPSÂ GPSLongitude')Â #ç»åº¦print('gps:Â [{},{}]'.format(lat,Â lng))ifÂ lat==NoneÂ orÂ lng==None:Â Â Â Â print("noÂ gps")Â Â Â Â exit()print("location:Â [{},{}]".format(lat,Â lng))print("---")print(imageurl+image+')')`

æœ€ç»ˆå°†æ‰“å°å‡ºæ¥çš„ä¿¡æ¯ï¼Œå¡«åˆ°æ–‡ä»¶é‡Œ

### 2.4 ä½¿ç”¨å›½å†…åœ°å›¾

æœ‰äº›æ™¯ç‚¹ï¼Œopenstreetmap çš„ä¿¡æ¯ä¸æ˜¯å¾ˆå¤šï¼Œæ‰€ä»¥æˆ‘ä»¬è¢«è¿«ä¸å¾—ä¸ç”¨å›½å†…çš„åœ°å›¾

é¦–å…ˆï¼Œå°†å›½å¤–çš„æœåŠ¡å™¨æ”¹ä¸ºå›½å†…çš„é«˜å¾·

![](https://proxy-prod.omnivore-image-cache.app/0x0,smfz8NQkYzy5b7ZErgwgZEce0NJjRLzXR7hbsScweo70/https://mmbiz.qpic.cn/mmbiz_svg/ic3ibEjvYaKJxBj47ccnYYvVhUampdIAibQFTKxApWKGck4fGGlJ9qgRB4lvstgkVWKFUYKibShnmcrVEE0sZWoYpZsWlHoLTPng/640?wx_fmt=svg&from=appmsg)```` ```leafletid:Â TT20220430osmLayer:Â falsetileServer:Â http://webrd0{s}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=8&x={x}&y={y}&z={z}tileSubdomains:Â ["1",Â "2",Â "3",Â "4"]lat:Â 32.101long:Â 120.825height:Â 800pxwidth:Â 100%defaultZoom:Â 16maxzoom:Â 18minzoom:Â 1unit:Â metersscale:Â 1``` ````

ä¿®æ”¹ `tileServer` ä¸º `http://webrd0{s}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=8&x={x}&y={y}&z={z}`

`tileSubdomains` ä¿®æ”¹ä¸º `["1", "2", "3", "4"]`

ä½†æ˜¯å›½å†…çš„åœ°å›¾çš„åæ ‡ä¿¡æ¯æ˜¯é‡‡ç”¨çš„å’Œå›½é™…ä¸ä¸€æ ·çš„åæ ‡ä½“ç³»ï¼Œæ‰€ä»¥å›½å¤–çš„ GPS åæ ‡ï¼Œç”¨åœ¨å›½å†…çš„åœ°å›¾ä¸Šå°±ä¼šå‘ç”Ÿåç§»ï¼Œä¸‹é¢æˆ‘ä»¬å°±æ¥è§£å†³è¿™ä¸ªé—®é¢˜

å…·ä½“åŸå› è§ï¼šhttps://zhuanlan.zhihu.com/p/258883313

è¿™æ˜¯å¦‚æœå°è¯•æ·»åŠ ä¹‹å‰çš„åæ ‡ç‚¹ï¼Œå°±ä¼šå‘ç°åœ°å›¾ä¸Šåœ°ç‚¹å¯¹ä¸ä¸Šï¼Œè€Œä¹‹å‰çš„ openstreetmap åˆ™æ²¡æœ‰åç§»ï¼Œä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬è°ƒç”¨é«˜å¾·çš„åæ ‡è½¬æ¢ API

https://developer.amap.com/api/webservice/guide/api/convert

ç”³è¯·ä¸€ä¸ª KEY

ç„¶åä¿®æ”¹ä¹‹å‰çš„è„šæœ¬

![](https://proxy-prod.omnivore-image-cache.app/0x0,smfz8NQkYzy5b7ZErgwgZEce0NJjRLzXR7hbsScweo70/https://mmbiz.qpic.cn/mmbiz_svg/ic3ibEjvYaKJxBj47ccnYYvVhUampdIAibQFTKxApWKGck4fGGlJ9qgRB4lvstgkVWKFUYKibShnmcrVEE0sZWoYpZsWlHoLTPng/640?wx_fmt=svg&from=appmsg)`importÂ exifreadimportÂ jsonimportÂ urllib.requestimportÂ requestsÂ #Â é«˜å¾·åœ°å›¾åæ ‡è½¬æ¢gaodeconvert_enableÂ =Â 1#Â é«˜å¾·APIçš„keygaodeapi_keyÂ =Â "è‡ªå·±çš„key"#Â é«˜å¾·apiçš„ç½‘å€gaodeapi_siteheadÂ =Â "https://restapi.amap.com/v3/assistant/coordinate/convert?locations="imageurlÂ =Â '![](è‡ªå·±çš„å›¾ç‰‡è·¯å¾„/'fÂ =Â open(r'å›¾ç‰‡è·¯å¾„\\'+image,Â 'rb')tagsÂ =Â exifread.process_file(f)#æ‰“å°ç…§ç‰‡å…¶ä¸­ä¸€äº›ä¿¡æ¯# print('æ‹æ‘„æ—¶é—´ï¼š', tags['EXIF DateTimeOriginal'])# print('ç…§ç›¸æœºåˆ¶é€ å•†ï¼š', tags['Image Make'])# print('ç…§ç›¸æœºå‹å·ï¼š', tags['Image Model'])# print('ç…§ç‰‡å°ºå¯¸ï¼š', tags['EXIF ExifImageWidth'], tags['EXIF ExifImageLength'])print("---")Â print("mapmarker:Â default")Â print("date:Â ",tags['EXIFÂ DateTimeOriginal'])Â print("device:Â "+Â str(tags['ImageÂ Make'])+"Â "+str(tags['ImageÂ Model']))print("place:Â ")#è·å–ç»åº¦æˆ–çº¬åº¦defÂ getLatOrLng(refKey,Â tudeKey):Â Â Â Â ifÂ refKeyÂ notÂ inÂ tags:Â Â Â Â Â Â Â Â returnÂ NoneÂ Â Â Â ref=tags[refKey].printableÂ Â Â Â LatOrLng=tags[tudeKey].printable[1:-1].replace("Â ","").replace("/",",").split(",")Â Â Â Â LatOrLng=float(LatOrLng[0])+float(LatOrLng[1])/60+float(LatOrLng[2])/float(LatOrLng[3])/3600Â Â Â Â ifÂ refKeyÂ ==Â 'GPSÂ GPSLatitudeRef'Â andÂ tags[refKey].printableÂ !=Â "N":Â Â Â Â Â Â Â Â LatOrLng=LatOrLng*(-1)Â Â Â Â ifÂ refKeyÂ ==Â 'GPSÂ GPSLongitudeRef'Â andÂ tags[refKey].printableÂ !=Â "E":Â Â Â Â Â Â Â Â LatOrLng=LatOrLng*(-1)Â Â Â Â returnÂ LatOrLngÂ latÂ =Â getLatOrLng('GPSÂ GPSLatitudeRef','GPSÂ GPSLatitude')Â #çº¬åº¦lngÂ =Â getLatOrLng('GPSÂ GPSLongitudeRef','GPSÂ GPSLongitude')Â #ç»åº¦print('gps:Â [{},{}]'.format(lat,Â lng))ifÂ lat==NoneÂ orÂ lng==None:Â Â Â Â print("noÂ gps")Â Â Â Â exit()gaodeapi_siteÂ =Â gaodeapi_siteheadÂ +Â str(lng)+","+str(lat)+"&coordsys=gps&output=json&key="+gaodeapi_keyresponseÂ =Â requests.get(gaodeapi_site)locationsÂ =Â response.json()['locations']locations_listÂ =Â locations.split(',')gn=locations_list[1]+','+locations_list[0]print("gn:Â [{}]".format(gn))ifÂ gaodeconvert_enableÂ ==Â 1:Â Â Â Â print("location:Â [{}]".format(gn))Â Â Â Â Â #responseÂ =Â requests.get(gaodeapi_site+"locations="+lng+","+lat+"&coordsys=gps&output=json&key="+gaodeapi_key)else:Â Â Â Â print("location:Â [{},{}]".format(lat,Â lng))print("---")print(imageurl+image+')')ifÂ gaodeconvert_enableÂ ==Â 1:Â Â Â Â print(gn)Â else:Â Â Â Â print("{},{}".format(lat,Â lng))`

æœ€ç»ˆç”Ÿæˆå‡ºè½¬æ¢åçš„åæ ‡

### 2.5 è·¯å¾„

é…åˆå³ä¸‹è§’çš„ä¸€äº›ç¼–è¾‘å·¥å…·ï¼Œå¯ä»¥å®ç°æ•´ä¸ªæ—…è¡Œè·¯å¾„çš„ç»˜åˆ¶ï¼Œè¿˜æ˜¯è›®æœ‰æ„æ€çš„ã€‚

## 3 æœ€å

å› ä¸ºè¿™ä¸ªæ’ä»¶åœ¨ç½‘ä¸Šèµ„æ–™ä¸æ˜¯å¾ˆå¤šï¼Œæ•…æƒ³å†™ä¸€ä¸ªæ¨æ–‡å»æ™®åŠä¸€ä¸‹è¿™ä¸ªæ’ä»¶çš„ä½¿ç”¨ï¼Œæ–‡ä¸­è¿˜æœ‰ä¸è¯¦ç»†çš„åœ°æ–¹ä»¥åŠä¸æ˜¯å¾ˆå®Œç¾çš„åœ°æ–¹è¿˜è¯·è§è°…ï¼Œåé¢æˆ‘ä¼šç»§ç»­å®Œå–„è¿™ä¸ªæ–‡ç« ã€‚

### å‚è€ƒé“¾æ¥

* æ’ä»¶ githubï¼šhttps://github.com/javalent/obsidian-leaflet
* openstreetmap å®˜ç½‘ï¼šhttps://www.openstreetmap.org/#map
* leaflet ä¸­å¦‚ä½•ä¼˜é›…çš„è§£å†³ç™¾åº¦ã€é«˜å¾·åœ°å›¾çš„åç§»é—®é¢˜<https://zhuanlan.zhihu.com/p/258883313
* ç…§ç‰‡ä½ç½®ä¿¡æ¯æå–ï¼ˆè·å–ç»çº¬åº¦ï¼‰ï¼šhttps://blog.csdn.net/weixin\_47325163/article/details/119037394
* å‘Šåˆ«åå¹´å°è±¡ç¬”è®°ï¼Œç”¨ Obsidian ä¸€å¹´æœ€å–œæ¬¢çš„ 7 ä¸ªåŠŸèƒ½ï¼šhttps://sspai.com/post/77852
* leaflet ä¹‹æ·»åŠ å„ç§åœ°å›¾çš„æœåŠ¡ï¼šhttps://blog.csdn.net/gexin0517/article/details/103769193

## å¾€æœŸæ¨è

* [PKMeræ’ä»¶å®‰å“ç«¯æ‰‹æŠŠæ‰‹å®‰è£…æ•™ç¨‹](http://mp.weixin.qq.com/s?%5F%5Fbiz=MzkzNTUyMTgwMA==&mid=2247485108&idx=1&sn=03d2f4dee78356ad40a03707d1a34c2b&chksm=c2adfdd3f5da74c584d8ab8bc6f3a0cc78401c21a3d40b28c2bb47f3b2e19b8e49273040697b&scene=21#wechat%5Fredirect)
* [ä»ªå¼æ„Ÿæ‹‰æ»¡ï¼Œobsidianæ’ä»¶åœ¨ä½ å®Œæˆä»»åŠ¡çš„æ—¶å€™æ¥äº›å–å½©](http://mp.weixin.qq.com/s?%5F%5Fbiz=MzkzNTUyMTgwMA==&mid=2247484772&idx=1&sn=f7c8e80089e77a9326a97533842e262b&chksm=c2adfe03f5da7715acdbf9b55896ceb3a1ba77879702739363c607a9b4f69e28b395ec480f81&scene=21#wechat%5Fredirect)
* [ğŸ¤© æ–°ç‰ˆObè¡¨æ ¼ç¼–è¾‘åŠŸèƒ½ï¼1.5è¶…å‰é¢„è§ˆ](http://mp.weixin.qq.com/s?%5F%5Fbiz=MzkzNTUyMTgwMA==&mid=2247484535&idx=1&sn=7d993b5f804c304ff2d76924b8fbbd63&chksm=c2adff10f5da76060ed7b5508cf474df09e02190d64fc3804d460c02b07d81b86ee285eff130&scene=21#wechat%5Fredirect)
* [PKMeræŒ‚ä»¶é›†å¸‚ä¸Šæ–°å•¦ï¼ä¸€é”®æ‹¥æœ‰å¥½çœ‹åˆå¥½ç”¨çš„ç¬”è®°æŒ‚ä»¶](http://mp.weixin.qq.com/s?%5F%5Fbiz=MzkzNTUyMTgwMA==&mid=2247484433&idx=1&sn=69bf9895de85d34d9d90b6983a74cce5&chksm=c2adff76f5da76603e7a3b503ed46c792f124d7a0c1781a622df1233f1722069c847caaed3a1&scene=21#wechat%5Fredirect)

**æœŸå¾…ä½ çš„åˆ†äº«ã€ç‚¹èµã€åœ¨çœ‹**

![](https://proxy-prod.omnivore-image-cache.app/0x0,sLbz75PZ9iO89IgrYUcxjRR57vnRYCyVesJkAtig4PT8/https://mmbiz.qpic.cn/sz_mmbiz_png/epTcXdtRjfMCdkpoKibpmxFSwd5e7qfBwJRXdchVFTPcA0wbQVSycj3fLWrSuHpX5vYVgkndLU0dJ1wzHtDguwQ/640?wx_fmt=png)

**QQç¾¤ï½œ**825255377

**PKMerå®˜ç½‘ï½œ**https://pkmer.cn/

![å›¾ç‰‡](https://proxy-prod.omnivore-image-cache.app/0x0,s4ISSK1PuJR3nlbJjZ7NJQ5gDohDy9R4E2tEmSJlYfpM/https://mmbiz.qpic.cn/sz_mmbiz_gif/epTcXdtRjfPUicgQMTTfcxt7dFrntibCvHbC9iaamiboo70mRfCJaN0MmAUOkUqP3JEqZ4x94JN5ibB4xSzfFoI62TA/640?wx_fmt=gif&from=appmsg)

æˆ³â€œé˜…è¯»åŸæ–‡â€ä¸€èµ·æ¥å……ç”µå§!

![](https://proxy-prod.omnivore-image-cache.app/0x0,sztHen2zKglbooc8jnRanh8F2QK9kejIH_eS7fuz0zAU/data:image/svg+xml,%3Csvg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\"%3E%0A%3Cpath d=\"M12.8974 15.5585L14.9719 13.484L16.2447 14.7568L12.3519 18.6497C12.1566 18.8449 11.84 18.8449 11.6448 18.6497L7.75195 14.7568L9.02475 13.484L11.0974 15.5567L11.1 4.99976L12.9 5.0002L12.8974 15.5585Z\" fill=\"black\" opacity=\"0.3\"/%3E%0A%3C/svg%3E) ç»§ç»­æ»‘åŠ¨çœ‹ä¸‹ä¸€ä¸ª 



